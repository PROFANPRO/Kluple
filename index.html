<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>WC Game</title>
<style>
/* --- —Ç–≤–æ–∏ —Å—Ç–∏–ª–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π --- */
body{margin:0;font-family:sans-serif;background:#0f172a;color:white;overflow-x:hidden}
/* ... –æ—Å—Ç–∞–ª—å–Ω–æ–µ –≤—Å—ë –∫–∞–∫ —É —Ç–µ–±—è ... */
</style>
<!-- TON Connect SDK -->
<script src="https://unpkg.com/@tonconnect/sdk@1.3.0/dist/tonconnect.min.js"></script>
</head>
<body>
<div class="stars"></div>

<!-- –ì–ª–∞–≤–Ω–∞—è -->
<div id="home" class="container active">
  <div class="balance-card">
    <div class="user-info">
      <div class="user-left">
        <img id="userPhoto" src="https://cdn-icons-png.flaticon.com/512/847/847969.png" alt="user">
      </div>
      <div class="wallet-center">
        <div class="wallet-btn" id="walletBtn">–ü–æ–¥–∫–ª—é—á–∏—Ç—å –∫–æ—à–µ–ª—ë–∫</div>
      </div>
      <div class="menu-btn" onclick="openMenu()">‚â°</div>
    </div>
    <p class="balance-value">0
      <svg class="balance-icon" viewBox="0 0 24 24" fill="#3b82f6">
        <path d="M12 2L3 20H21L12 2Z" stroke="#3b82f6" stroke-width="2" fill="none"/>
        <path d="M12 6V18" stroke="#3b82f6" stroke-width="2" stroke-linecap="round"/>
      </svg>
    </p>
  </div>

  <div class="row">
    <div class="card green"><div class="icon-circle">‚¨áÔ∏è</div></div>
    <div class="card red"><div class="icon-circle">‚¨ÜÔ∏è</div></div>
  </div>

  <div class="card orange" onclick="showPage('rating', document.querySelector('.bottom-nav .nav-item:nth-child(3)'))">
    <div class="icon-circle">üèÜ</div>
    <p>–¢–æ–ø</p>
  </div>

  <div class="card light-blue" onclick="openPromoModal()">
    <div class="icon-circle">üéÅ</div>
    <p>–ü—Ä–æ–º–æ–∫–æ–¥</p>
  </div>
</div>

<!-- –ò–≥—Ä—ã -->
<div id="games" class="container">
  <div class="page-header">–ò–≥—Ä—ã</div>
  <div class="games-grid">
    <!-- –≤—Å–µ —Ç–≤–æ–∏ –∫–∞—Ä—Ç–æ—á–∫–∏ –∏–≥—Ä -->
    <div class="game-wrapper" onclick="openGame('roulette')">
      <div class="game-card">
        <img src="https://raw.githubusercontent.com/PROFANPRO/Kluple/refs/heads/main/file_000000002548622fa7553f9952dac1e7.png" alt="roulette">
      </div>
      <div class="game-label">–†—É–ª–µ—Ç–∫–∞</div>
    </div>
    <div class="game-wrapper" onclick="openGame('ninja')"><div class="game-card">ü•∑</div><div class="game-label">–ù–∏–Ω–¥–∑—è</div></div>
    <div class="game-wrapper" onclick="openGame('tower')"><div class="game-card">üóº</div><div class="game-label">–ë–∞—à–Ω—è</div></div>
    <div class="game-wrapper" onclick="openGame('seven')"><div class="game-card">7Ô∏è‚É£</div><div class="game-label">–ü–æ–¥ 7 –Ω–∞–¥</div></div>
    <div class="game-wrapper" onclick="openGame('cs')"><div class="game-card">üî´</div><div class="game-label">CS</div></div>
    <div class="game-wrapper" onclick="openGame('luck')"><div class="game-card">üçÄ</div><div class="game-label">–ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</div></div>
  </div>
</div>

<!-- –°—Ç—Ä–∞–Ω–∏—Ü—ã –∏–≥—Ä -->
<div id="game-roulette" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> –†—É–ª–µ—Ç–∫–∞</div></div>
<div id="game-ninja" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> –ù–∏–Ω–¥–∑—è</div></div>
<div id="game-tower" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> –ë–∞—à–Ω—è</div></div>
<div id="game-seven" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> –ü–æ–¥ 7 –Ω–∞–¥</div></div>
<div id="game-cs" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> CS</div></div>
<div id="game-luck" class="container"><div class="game-header"><button class="back-btn" onclick="showPage('games', document.querySelector('.bottom-nav .nav-item:nth-child(2)'))">‚Üê</button> –ö–æ–ª–µ—Å–æ —É–¥–∞—á–∏</div></div>

<!-- –¢–æ–ø -->
<div id="rating" class="container">
  <div class="page-header">–¢–æ–ø</div>
  <div class="top-buttons">
    <button onclick="showRanking('week', this)" class="active">–ù–µ–¥–µ–ª—è</button>
    <button onclick="showRanking('month', this)">–ú–µ—Å—è—Ü</button>
  </div>
  <ul id="week" class="rank-list" style="display:block;">
    <li><span>1. –ò–≥—Ä–æ–∫1</span><span>0</span></li>
    <li><span>2. –ò–≥—Ä–æ–∫2</span><span>0</span></li>
    <li><span>3. –ò–≥—Ä–æ–∫3</span><span>0</span></li>
    <li><span>4. –ò–≥—Ä–æ–∫4</span><span>0</span></li>
    <li><span>5. –ò–≥—Ä–æ–∫5</span><span>0</span></li>
  </ul>
  <ul id="month" class="rank-list">
    <li><span>1. –ò–≥—Ä–æ–∫A</span><span>0</span></li>
    <li><span>2. –ò–≥—Ä–æ–∫B</span><span>0</span></li>
    <li><span>3. –ò–≥—Ä–æ–∫C</span><span>0</span></li>
    <li><span>4. –ò–≥—Ä–æ–∫D</span><span>0</span></li>
    <li><span>5. –ò–≥—Ä–æ–∫E</span><span>0</span></li>
  </ul>
</div>

<!-- –ú–æ–¥–∞–ª–∫–∏ -->
<div id="promoModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closePromoModal()">&times;</span>
    <h2>–í–≤–µ–¥–∏—Ç–µ –ø—Ä–æ–º–æ–∫–æ–¥</h2>
    <input type="text" placeholder="–ü—Ä–æ–º–æ–∫–æ–¥">
    <div class="modal-buttons">
      <button class="cancel" onclick="closePromoModal()">–û—Ç–º–µ–Ω–∞</button>
      <button class="activate" onclick="alert('–ü—Ä–æ–º–æ–∫–æ–¥ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω!')">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>
  </div>
</div>
<div class="menu-modal" id="menuModal">
  <div class="menu-content">
    <span class="menu-close" onclick="closeMenu()">&times;</span>
    <h3>–ú–µ–Ω—é</h3>
    <p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏</p>
  </div>
</div>

<!-- –ù–∞–≤–∏–≥–∞—Ü–∏—è -->
<div class="bottom-nav">
  <div class="nav-item active" onclick="showPage('home', this)"><span>üè†</span>–ì–ª–∞–≤–Ω–∞—è</div>
  <div class="nav-item" onclick="showPage('games', this)"><span>üéÆ</span>–ò–≥—Ä—ã</div>
  <div class="nav-item" onclick="showPage('rating', this)"><span>üèÜ</span>–¢–æ–ø</div>
</div>

<script src="https://telegram.org/js/telegram-web-app.js"></script>
<script>
// --- —Ç–≤–æ–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ---
let tg = window.Telegram.WebApp;
tg.expand();
let user = tg.initDataUnsafe?.user || {};
const userPhoto = document.getElementById('userPhoto');
userPhoto.src = user.photo_url || 'https://cdn-icons-png.flaticon.com/512/847/847969.png';
userPhoto.addEventListener('click', function(){
  if(user.username){ window.open('https://t.me/' + user.username, '_blank'); }
});

function showPage(id, nav){ document.querySelectorAll('.container').forEach(c => c.classList.remove('active')); document.getElementById(id).classList.add('active'); document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active')); if(nav) nav.classList.add('active'); }
function openGame(name){ showPage('game-' + name, null); document.querySelectorAll('.nav-item').forEach(n => n.classList.remove('active')); }
function showRanking(list, btn){ document.querySelectorAll('.rank-list').forEach(l => l.style.display='none'); document.getElementById(list).style.display='block'; btn.parentNode.querySelectorAll('button').forEach(b => b.classList.remove('active')); btn.classList.add('active'); }
function openPromoModal(){document.getElementById('promoModal').style.display='flex';}
function closePromoModal(){document.getElementById('promoModal').style.display='none';}
function openMenu(){document.getElementById('menuModal').style.display='flex';}
function closeMenu(){document.getElementById('menuModal').style.display='none';}

// --- TON Connect ---
const walletBtn = document.getElementById('walletBtn');
let tonConnect;

async function initTONConnect(){
  tonConnect = new TonConnect.TonConnect({
    manifestUrl: 'https://your-app-url.com/tonconnect-manifest.json' // –∑–∞–º–µ–Ω–∏—Ç–µ –Ω–∞ —Å–≤–æ–π manifest.json
  });

  const savedAddress = localStorage.getItem('tonWalletAddress');
  if(savedAddress){ walletBtn.textContent = `...${savedAddress.slice(-4)}`; }

  walletBtn.addEventListener('click', async () => {
    try {
      const account = await tonConnect.connect();
      const address = account.account.address;
      localStorage.setItem('tonWalletAddress', address);
      walletBtn.textContent = `...${address.slice(-4)}`;
    } catch(err){ console.error('–û—à–∏–±–∫–∞ TON Connect:', err); }
  });
}
window.addEventListener('load', initTONConnect);
</script>
</body>
</html>
